<!--
 * @Author: your name
 * @Date: 2021-05-11 17:09:22
 * @LastEditTime: 2021-05-11 19:46:42
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \daily-questions\details\async介绍.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>async介绍</title>
</head>

<body>
    <div id="app">
        <dl>
            <dt>谈谈对 async/await 的理解，async/await 的实现原理是什么?:</dt>
            <dd>1）async/await 就是 Generator 的语法糖，使得异步操作变得更加方便</dd>
            <dd>2）async 函数就是将 Generator 函数的星号（*）替换成 async，将 yield 替换成await</dd>
            <dd>3）async 是 Generator 的语法糖</dd>
        </dl>
    </div>
    <script>
        // //输出答案：2,4,3,1,5,6,x1,x2,7,8,x3,x4,x5
        // setTimeout(function() { //宏任务1
        //     console.log('1');
        // });
        // new Promise(function(resolve) {
        //     console.log('2'); //同步任务1
        //     resolve();
        // }).then(function() { //微任务1
        //     console.log('3');
        // });
        // console.log('4'); //同步任务2
        // setTimeout(function() { //宏任务2
        //     console.log('5'); //宏任务2中的同步任务
        //     new Promise(function(resolve) {
        //         console.log('6'); //宏任务2中的同步任务
        //         new Promise(function(resolve) { //宏任务2中的微任务
        //             console.log('x1');
        //             resolve();
        //         }).then(function() {
        //             console.log('X2');
        //         });
        //         setTimeout(function() { //宏任务2中的宏任务
        //             console.log('X3');
        //             new Promise(function(resolve) { //宏任务2中的宏任务中的同步任务
        //                 console.log('X4');
        //                 resolve();
        //             }).then(function() { //宏任务2中的宏任务中的微任务
        //                 console.log('X5');
        //             });
        //         })
        //         resolve();
        //     }).then(function() { //宏任务2中的微任务
        //         console.log('7');
        //     });
        // })
        // setTimeout(function() { //宏任务3
        //     console.log('8');
        // });


        function sleep(delay) {
            setTimeout(() => {
                    return 123
                }, delay)
                // return new Promise((resolve, reject) => {
                //     setTimeout(() => {
                //         resolve('ok')
                //     }, delay)
                // })
        }
        async function secs() {
            let a = await sleep(5000)
            let b = 'aa'
            console.log(a, b)
                // for (let i = 1; i <= 5; i++) {
                //     console.log(i)
                //     await sleep(1000)
                // }
        }

        secs()
    </script>
</body>

</html>